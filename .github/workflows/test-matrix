name: Test Spring Boot App

on:
  workflow_dispatch:

jobs:
  test:
    strategy:
      matrix:
        java: [11, 17]
    name: Test with JDK ${{ matrix.java }}
    runs-on: ubuntu-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: Set up JDK ${{ matrix.java }}
      run: |
        echo "Running with JDK ${{ matrix.java }}"
        # other setup steps
    - name: Build with Maven
      run: mvn -B -DskipTests=true clean package
    - name: Test with Maven
      run: mvn -B test
